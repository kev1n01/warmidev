---
import femaleIcon from "@assets/icons/female_sign_icon.svg";
import maleIcon from "@assets/icons/male_sign_icon.svg";
import translateIcon from "@assets/icons/translate_icon.svg";
---

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const themeSwitcher = document.getElementById("themeSwitcher");
const nav = document.querySelector("nav");
        const comenzarButton = document.querySelector("a[href='/temas']");

        if (window.location.pathname === "/temas") {
            if (nav) nav.style.display = "none";
            if (comenzarButton) comenzarButton.style.display = "none"; 
        }

        const userTheme = localStorage.getItem("theme");
        const systemTheme = window.matchMedia(
            "(prefers-color-scheme: dark)",
        ).matches;

        const themeCheck = () => {
            if (userTheme === "dark") {
                document.documentElement.classList.add("dark");
            } else if (userTheme === "light") {
                document.documentElement.classList.remove("dark");
            } else {
                if (systemTheme) {
                    document.documentElement.classList.add("dark");
                } else {
                    document.documentElement.classList.remove("dark");
                }
            }
        };

        const themeSwitch = () => {
            if (document.documentElement.classList.contains("dark")) {
                document.documentElement.classList.remove("dark");
                localStorage.setItem("theme", "light");
            } else {
                document.documentElement.classList.add("dark");
                localStorage.setItem("theme", "dark");
            }
        };

        themeSwitcher?.addEventListener("click", () => {
            themeSwitch();
        });

        themeCheck();
    });

    const header = document.querySelector("header");

    window.addEventListener("scroll", () => {
        if (window.scrollY > 0) {
            header?.classList.add("bg-black/50");
        } else {
            header?.classList.remove("bg-black/50");
        }
    });
</script>

<header
    class="w-full flex justify-between items-center p-3 px-10 rounded-xl border border-white/10 shadow-inner shadow-white/50 bg-black/25 backdrop-blur-3xl sticky top-3 z-10"
>
    <h1 class="font-bold text-2xl font-buycat block dark:hidden">
        {"< She*JS >"}
    </h1>
    <h1 class="font-bold text-2xl font-saku hidden dark:block">He*JS</h1>
    <nav class="flex gap-5 text-gray-300 font-semibold">
        <a href="#hero" class="hover:text-white">Nosotros</a>
        <a href="#requirements" class="hover:text-white">Requerimientos</a>
        <a href="#sponsors" class="hover:text-white">Sponsors</a>
    </nav>
    <div class="flex gap-3 items-center content-center">
        <a
            href="/temas"
            class="rounded-full from-indigo-400 via-pink-500 to-purple-500 bg-gradient-to-r p-[2px] dark:from-blue-400 dark:via-slate-500 dark:to-sky-400"
        >
            <span
                class="block text-gray-800 px-4 py-1 font-semibold rounded-full bg-white/40 hover:bg-transparent hover:text-white transition"
                >Comenzar</span
            >
        </a>
        <div class="cursor-pointer flex items-center gap-1">
            <img src={translateIcon.src} alt="translate icon" class="w-5" />
        </div>
        <button class="cursor-pointer" id="themeSwitcher">
            <p class="hidden dark:block">
                <img
                    src={femaleIcon.src}
                    alt="female icon"
                    class="text-white"
                />
            </p>
            <p class="block dark:hidden">
                <img src={maleIcon.src} alt="male icon" />
            </p>
        </button>
    </div>
</header>
