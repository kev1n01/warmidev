---
import IconArrowUp from "@/icons/IconArrowUp.astro";
---

<button
    id="button-top"
    title="Subir"
    class="fixed bottom-16 right-4 bg-white  font-semibold  stroke-2 rounded-full p-3 sm:bottom-10 sm:right-8 group opacity-0"
    >
        <IconArrowUp  className="sm:rotate-45 text-slate-900 group-hover:text-pink-600 sm:group-hover:rotate-0 group-hover:transition-transform transform duration-500" />
    </button
>

<script>
    let buttonTop = document.getElementById("button-top");
    buttonTop?.addEventListener("click", () => {
        window.scrollTo({
            top: 0,
            behavior: "smooth",
        });
    });

    const handleScroll = () => {
        if (window.scrollY > 0) {
            buttonTop?.classList.remove("opacity-0");
            buttonTop?.classList.add("opacity-100");
        }
        if (window.scrollY === 0) {
            buttonTop?.classList.remove("opacity-100");
            buttonTop?.classList.add("opacity-0");
        }
    }
    window.addEventListener("scroll", handleScroll);

    const pathHidden = [
      "/warmichat",
      "/warmichat/",
      "/en/warmichat",
      "/en/warmichat/",
      "/qh/warmichat",
      "/qh/warmichat/",
    ]

    document.addEventListener("DOMContentLoaded", () => {
        let path = window.location.pathname;
        if (pathHidden.includes(path)) {
            const buttontop = document.querySelector("#button-top") as HTMLElement;
            if (buttontop) buttontop.style.display = "none";
        }
    });
</script>
